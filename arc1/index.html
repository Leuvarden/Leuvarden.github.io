<!doctype html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title>Circles</title>
	<script type="text/javascript" src="phaser.min.js"></script>
</head>

<body>
	<div id="test"></div>


 <script type="text/javascript">
		var game = new Phaser.Game(700, 700, Phaser.AUTO, 'test', {
			preload: preload,
			create: create
		});

		function preload() {
			 this.load.image('bg', 'assets/1.png');
		 }

		function create() {

			// let circle4 = createCircle('4');
			// let circle5 = createCircle('5');
			// let center =  createCircle('center');

			let sprite0 = game.add.sprite(game.world.centerX, game.world.centerY, 'bg');
			sprite0.anchor.setTo(0.5, 0.5);
			//sprite1.angle = 30;
			circle0 = game.add.graphics(0, 0);
			circle0.beginFill(0xFF0000, 1);
			circle0.drawCircle(game.world.centerX, game.world.centerY,  400);
			sprite0.mask = circle0;

		 	let sprite1 = game.add.sprite(game.world.centerX, game.world.centerY, 'bg');
			sprite1.anchor.setTo(0.5, 0.5);
			//sprite1.angle = 30;
			circle = game.add.graphics(0, 0);
			circle.beginFill(0xFF0000, 1);
			circle.drawCircle(game.world.centerX, game.world.centerY,  300);
			sprite1.mask = circle;

		 	let sprite2 = game.add.sprite(game.world.centerX, game.world.centerY, 'bg');
			sprite2.anchor.setTo(0.5, 0.5);
			//sprite2.angle = 30;
			circle2 = game.add.graphics(0, 0);
			circle2.beginFill(0xFF0000, 1);
			circle2.drawCircle(game.world.centerX, game.world.centerY,  200);
			sprite2.mask = circle2;

			function getRandomAngle() {
				let possiblePositions = [30, 60, 90, 120, 150, -180, -150, -120, -90, -60, -30];
				let randomPosition = Math.floor(Math.random() * possiblePositions.length);
				return possiblePositions[randomPosition];
			}

			function rotateCircle0() {
					sprite0.angle = Math.round(sprite0.angle + 30); //because otherwise I'll get -119.99999 instead of -120
					//game.add.tween(circle).to( { angle: nextangle }, 200, Phaser.Easing.Linear.None, true);
				}

				function rotateCircle1() {
						sprite1.angle = Math.round(sprite1.angle + 30); //because otherwise I'll get -119.99999 instead of -120
						//game.add.tween(circle).to( { angle: nextangle }, 200, Phaser.Easing.Linear.None, true);
					}

				sprite1.angle = getRandomAngle();
				sprite0.angle = getRandomAngle();

				circle.inputEnabled = true;
				circle0.inputEnabled = true;

				circle.events.onInputDown.add(rotateCircle1, this);
				circle0.events.onInputDown.add(rotateCircle0, this);


		}
	</script>
</body>

</html>
